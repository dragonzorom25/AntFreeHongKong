/* ===============================================================
   âœ… commonLeft.css (v1.3 - UX/ê³„ì¸µ ëª…í™•ì„± ë° FIX)
   ---------------------------------------------------------------
   - ì¢Œì¸¡ ì‚¬ì´ë“œë°” / ì„œë¸Œë©”ë‰´ / í† ê¸€ / ë‹¤ë‹¨ê³„ 5ë‹¨ ì™„ì „ ëŒ€ì‘
   - FIX: íƒ‘ë°”(Top-bar) í•˜ë‹¨ì— ë°€ì°©í•˜ë©° íƒ‘ë°” ì•„ë˜ ë ˆì´ì–´ì— ìœ„ì¹˜
================================================================ */

/* ---------------------------------------------------------------
   ğŸ”¹ ì „ì—­ ë³€ìˆ˜ (ìƒ‰ìƒ ì •ì˜)
---------------------------------------------------------------- */
:root {
  /* ë¼ì´íŠ¸ ëª¨ë“œ */
  --sidebar-bg: #ffffff;
  --sidebar-border: #e5e7eb;
  --sidebar-text: #1f2937;
  --sidebar-hover-bg: #f3f4f6;
  --sidebar-active-bg: #e5e7eb;
  --sidebar-level-1-bg: #f9fafb; /* 1ë‹¨ê³„ submenu */
  --sidebar-level-2-bg: #f3f4f6; /* 2ë‹¨ê³„ submenu */
  --sidebar-level-3-bg: #e5e7eb; /* 3ë‹¨ê³„ submenu */
  --sidebar-level-4-bg: #e0e0e0; /* 4ë‹¨ê³„ submenu */
  --sidebar-level-5-bg: #d6d6d6; /* 5ë‹¨ê³„ submenu */
}

body.dark-mode {
  /* ë‹¤í¬ ëª¨ë“œ */
  --sidebar-bg: #1e293b;
  --sidebar-border: #334155;
  --sidebar-text: #e2e8f0;
  --sidebar-hover-bg: #334155;
  --sidebar-active-bg: rgba(37, 99, 235, 0.2);
  --sidebar-active-text: #93c5fd;
  --sidebar-level-1-bg: #273449; /* 1ë‹¨ê³„ submenu */
  --sidebar-level-2-bg: #334155; /* 2ë‹¨ê³„ submenu */
  --sidebar-level-3-bg: #2b364a; /* 3ë‹¨ê³„ submenu */
  --sidebar-level-4-bg: #222c3f; /* 4ë‹¨ê³„ submenu */
  --sidebar-level-5-bg: #1b2435; /* 5ë‹¨ê³„ submenu */
}

/* ---------------------------------------------------------------
   ğŸ”¹ ì‚¬ì´ë“œë°” ì»¨í…Œì´ë„ˆ
---------------------------------------------------------------- */
.sidebar {
  /* ğŸš© íƒ‘ë°” ì•„ë˜ ë°€ì°© ë° ìš´ëª…ê³µë™ì²´ ì„¤ì • */
  position: absolute;
  top: 0; /* layoutWrapper ë‚´ë¶€ ìµœìƒë‹¨(íƒ‘ë°” í•˜ë‹¨ ì§€ì )ì— ë¶™ì„ */
  left: 0;
  width: 240px;
  height: 100%; /* ì½˜í…ì¸  ë†’ì´ì™€ ë™ê¸°í™” */
  min-height: calc(100vh - 50px);
  background: var(--sidebar-bg);
  border-right: 1px solid var(--sidebar-border);
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.05);
  overflow-y: visible; /* ë¬¸ì„œ ì „ì²´ ìŠ¤í¬ë¡¤ì„ ë”°ë¦„ */
  transition: transform 0.25s ease, background 0.25s ease;
  z-index: 3500; /* íƒ‘ë°”(5000)ë³´ë‹¤ ì•„ë˜ì— ìœ„ì¹˜ */
}

/* ë©”ë‰´ ë‹«í˜ (ëª¨ë°”ì¼) */
.sidebar:not(.open) {
  transform: translateX(-100%);
}

/* ğŸŒ™ ë‹¤í¬ ëª¨ë“œ ê·¸ë¦¼ì ë³´ê°• */
body.dark-mode .sidebar {
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.6);
}

/* ---------------------------------------------------------------
   ğŸ”¹ ì˜¤ë²„ë ˆì´
---------------------------------------------------------------- */
#sidebarOverlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0, 0, 0, 0.3);
  display: none;
  z-index: 3000;
}

/* ---------------------------------------------------------------
   ğŸ”¹ ë©”ë‰´ ê¸°ë³¸ êµ¬ì¡°
---------------------------------------------------------------- */
.sidebar ul {
  list-style: none;
  margin: 0;
  padding: 0;
}

.sidebar li {
  border-bottom: 1px solid #f3f4f6;
}

body.dark-mode .sidebar li {
  border-bottom: 1px solid var(--sidebar-border);
}

.sidebar a {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 16px;
  color: var(--sidebar-text);
  text-decoration: none;
  font-size: 14px;
  border-radius: 6px;
  transition: background 0.15s ease, color 0.15s ease;
  font-weight: 500;
}

.sidebar a i {
  width: 18px;
  text-align: center;
  font-size: 14px;
  flex-shrink: 0;
}

/* ---------------------------------------------------------------
   ğŸ”¹ hover / active
---------------------------------------------------------------- */
.sidebar a:hover {
  background: var(--sidebar-hover-bg);
  color: var(--sidebar-text);
}

/* âœ… í™œì„± ë©”ë‰´: ê¸°ë³¸ (1ë‹¨ê³„) */
.sidebar a.active {
  background: var(--sidebar-active-bg);
  color: var(--sidebar-text);
  font-weight: 700;
}

/* ğŸŒ™ ë‹¤í¬ ëª¨ë“œ hover / active */
body.dark-mode .sidebar a:hover {
  background: var(--sidebar-hover-bg);
}
body.dark-mode .sidebar a.active {
  background: var(--sidebar-active-bg);
  color: var(--sidebar-active-text);
}

/* ---------------------------------------------------------------
   ğŸ”¹ ì„œë¸Œë©”ë‰´ (5ë‹¨ê³„ ì™„ì „ ëŒ€ì‘)
---------------------------------------------------------------- */
.submenu {
  display: none;
  background: var(--sidebar-level-1-bg);
}
.has-submenu.open > .submenu {
  display: block;
}

/* ğŸš© ì„œë¸Œë©”ë‰´ ì§„ì…ì‹œ í°íŠ¸ ë‘ê»˜ ì™„í™” */
.submenu a {
  font-weight: 400; 
}

/* 1ë‹¨ê³„ */
.submenu a {
  padding-left: 34px;
  font-size: 13px;
  background: var(--sidebar-level-1-bg);
}
/* 2ë‹¨ê³„ */
.submenu .submenu a {
  padding-left: 54px;
  background: var(--sidebar-level-2-bg);
}
/* 3ë‹¨ê³„ */
.submenu .submenu .submenu a {
  padding-left: 74px;
  background: var(--sidebar-level-3-bg);
}
/* 4ë‹¨ê³„ */
.submenu .submenu .submenu .submenu a {
  padding-left: 94px;
  background: var(--sidebar-level-4-bg);
}
/* 5ë‹¨ê³„ */
.submenu .submenu .submenu .submenu .submenu a {
  padding-left: 114px;
  background: var(--sidebar-level-5-bg);
}

/* ---------------------------------------------------------------
   ğŸ”¹ í† ê¸€ ì•„ì´ì½˜
---------------------------------------------------------------- */
.toggle-icon {
  margin-left: auto;
  transition: transform 0.2s ease;
  flex-shrink: 0;
}
.has-submenu > a {
  justify-content: space-between; 
}

.has-submenu.open > a .toggle-icon {
  transform: rotate(90deg);
}

/* ---------------------------------------------------------------
   ğŸ”¹ ë°˜ì‘í˜•
---------------------------------------------------------------- */
@media (max-width: 768px) {
  .sidebar {
    width: 230px;
    position: absolute;
    top: 0;
    height: 100%;
    min-height: calc(var(--vh, 1vh) * 100 - 50px);
  }
}