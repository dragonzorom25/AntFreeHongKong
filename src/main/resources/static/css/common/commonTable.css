/* ===============================================================
   âœ… commonTable.css (v2.9 - ìš°ì¸¡ ê³µë°± í•´ê²° ë° ìœ ë™ ë„ˆë¹„ ì ìš©)
   ---------------------------------------------------------------
   - FIX: ìš°ì¸¡ í•˜ì–€ ê³µë°± í˜„ìƒ í•´ê²° (width: 100% ê°•ì œ)
   - FIX: ì œëª© ì»¬ëŸ¼ ìœ ë™ ë„ˆë¹„ í™•ë³´ë¥¼ ìœ„í•œ table-layout ìµœì í™”
   - FIX: ë“œë¡­ë‹¤ìš´ ë©”ë‰´ ìµœìƒë‹¨ ë…¸ì¶œ ìœ ì§€
================================================================ */

:root {
  --table-bg: #ffffff;
  --table-text: #111827;
  --table-border: #e5e7eb;
  --table-header-bg: #e5e7eb;
  --table-header-text: #1f2937;
  --table-row-alt: #f9fafb;
  --table-link: #2563eb;
  --table-overlay-bg: rgba(255,255,255,0.8);
  --table-spinner-border: #d1d5db;
  --table-spinner-accent: #2563eb;
  --global-overlay-bg: rgba(0,0,0,0.15);
}

body.dark-mode {
  --table-bg: #1f2937;
  --table-text: #f3f4f6;
  --table-border: #374151;
  --table-header-bg: #374151;
  --table-header-text: #f9fafb;
  --table-row-alt: #111827;
  --table-link: #3b82f6;
  --table-overlay-bg: rgba(17,24,39,0.85);
  --table-spinner-border: #4b5563;
  --table-spinner-accent: #3b82f6;
  --global-overlay-bg: rgba(17,24,39,0.7);
  background: #111827;
  color: var(--table-text);
}

/* ğŸ§¾ í…Œì´ë¸” ì»¨í…Œì´ë„ˆ */
.table-container {
  width: 100%;
  max-width: 100%; 
  background: var(--table-bg) !important;
  border-radius: 10px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06);
  position: relative;
  
  /* ğŸš© [ì¤‘ìš”] ê°€ë¡œ ìŠ¤í¬ë¡¤ì´ í•„ìš”í•  ë•Œë§Œ ìƒê¸°ë„ë¡ ì²˜ë¦¬ */
  overflow-x: auto !important; 
  overflow-y: auto !important;
  
  overscroll-behavior: none;
  touch-action: pan-x pan-y; 
  max-height: 75vh;
  min-height: 350px; 
  background-clip: padding-box;
  -webkit-overflow-scrolling: touch;
}

/* âœ… í…Œì´ë¸” ë³¸ì²´ ìˆ˜ì • */
table {
  width: 100% !important; /* ğŸš© 100%ë¡œ ì„¤ì •í•˜ì—¬ í•˜ì–€ ê³µë°± ì œê±° */
  min-width: 1100px; /* ğŸš© ë‚´ìš©ì´ ê¹¨ì§€ì§€ ì•ŠëŠ” ìµœì†Œí•œì˜ ë„ˆë¹„ë§Œ ìœ ì§€ */
  border-collapse: separate; 
  border-spacing: 0;
  background: var(--table-bg);
  /* ğŸš© fixed í•´ì œ í˜¹ì€ ìœ ë™ì  ìš´ìš©: scriptì—ì„œ ì„¤ì •í•œ ë„ˆë¹„ë¥¼ ì§€í‚¤ë˜ ë‚¨ëŠ”ê³µê°„ í™œìš© */
  table-layout: fixed; 
}

/* âœ… í—¤ë” ê³ ì • ë° ìŠ¤íƒ€ì¼ */
thead th {
  position: sticky;
  top: 0;
  background: var(--table-header-bg);
  color: var(--table-header-text);
  z-index: 100; /* ğŸš© ë“œë¡­ë‹¤ìš´ê³¼ì˜ ê°„ì„­ì„ ìœ„í•´ z-index ì¡°ì • */
  box-shadow: 0 1px 2px rgba(0,0,0,0.1);
  border-bottom: 1px solid var(--table-border);
}

/* âœ… ì…€ ê³µí†µ ìŠ¤íƒ€ì¼ */
th, td {
  border-bottom: 1px solid var(--table-border);
  padding: 10px 8px;
  vertical-align: middle;
  color: var(--table-text);
  /* ğŸš© ì œëª© ë“±ì´ ë„ˆë¬´ ê¸¸ë©´ ë§ì¤„ì„í‘œ ì²˜ë¦¬ */
  white-space: nowrap;
  overflow: hidden; 
  text-overflow: ellipsis;
}

/* ğŸš© [ìˆ˜ì •] ë“œë¡­ë‹¤ìš´ì´ í¬í•¨ëœ ì…€ì€ ë©”ë‰´ê°€ ë³´ì—¬ì•¼ í•˜ë¯€ë¡œ overflow hidden í•´ì œ */
td:has(.app-dropdown), 
td.column-mstock { 
  overflow: visible !important; 
}

th { font-weight: 600; font-size: 13px; text-align: center; }
td { font-size: 12px; text-align: left; } /* ğŸš© í°íŠ¸ í¬ê¸° ì‚´ì§ ì¡°ì • */

/* ğŸš© ì•± ë“œë¡­ë‹¤ìš´ ìŠ¤íƒ€ì¼ */
.app-dropdown {
    position: relative;
    display: inline-block;
}

.app-dropbtn {
    background-color: #4f46e5;
    color: white;
    padding: 5px 8px;
    font-size: 11px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    min-width: 70px;
}

.app-dropdown-content {
    display: none;
    position: absolute;
    right: 0;
    top: 100%;
    background-color: #ffffff;
    min-width: 130px;
    box-shadow: 0px 8px 16px rgba(0,0,0,0.2);
    z-index: 1000 !important; 
    border: 1px solid #ddd;
    border-radius: 4px;
}

.app-dropdown-content a {
    color: #333 !important;
    padding: 8px 12px;
    text-decoration: none !important;
    display: block;
    font-size: 11px;
    border-bottom: 1px solid #f0f0f0;
}

.app-dropdown-content a:hover { background-color: #f1f5ff; }
.app-dropdown:hover .app-dropdown-content { display: block !important; }

/* ê¸°ì¡´ ë¡œì§ ìœ ì§€ */
tbody tr:nth-child(even) td { background: var(--table-row-alt); }
td a { color: var(--table-link); text-decoration: none; }

.global-loading-overlay { 
  position: absolute; 
  top: 0; left: 0; width: 100%; height: 100%; 
  display: none; justify-content: center; align-items: center; 
  background: var(--global-overlay-bg); z-index: 99; border-radius: 10px;
}
.global-spinner-wrap .spinner { 
  width: 40px; height: 40px; border: 4px solid var(--table-spinner-border); 
  border-top-color: var(--table-spinner-accent); border-radius: 50%; 
  animation: spin 1s linear infinite; 
}
@keyframes spin { to { transform: rotate(360deg); } }